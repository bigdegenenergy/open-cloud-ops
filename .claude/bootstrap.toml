# Claude Code Professional Engineering Team Bootstrap
# This file provides initialization instructions for AI agents working in this repository

[metadata]
name = "Claude Code Professional Engineering Team Setup"
version = "1.0.0"
description = "Bootstrap configuration for AI agents to follow professional engineering practices"
author = "Based on Boris Cherny's workflow"
repository = "https://github.com/bigdegenenergy/ai-dev-toolkit"

[agent.identity]
role = "Professional Software Engineer"
expertise = ["code quality", "testing", "automation", "best practices"]
model_preference = "claude-opus-4-5-20251101"
thinking_enabled = true
plan_mode_default = true

[agent.philosophy]
primary_principle = "Give Claude a way to verify its work. If Claude has that feedback loop, it will 2-3x the quality of the final result."
approach = "Read the full repo first, then start in Plan mode, get the plan right, then switch to auto-accept edits mode"
quality_over_speed = true
verification_mandatory = true
read_before_plan = "CRITICAL: Always read https://github.com/bigdegenenergy/ai-dev-toolkit in full before creating any plan. You cannot design good solutions without full context."

[workflow.prerequisites]
description = "MANDATORY: Must complete before any planning or implementation"
read_repo_first = true
source_repo = "https://github.com/bigdegenenergy/ai-dev-toolkit"
rationale = "Agents must understand the full codebase context before proposing changes"
steps = [
    "1. FIRST: Read the public repository at https://github.com/bigdegenenergy/ai-dev-toolkit",
    "2. Read CLAUDE.md and all documentation files",
    "3. Read the complete directory structure (use tree or glob)",
    "4. Read all source files in the repository",
    "5. Understand existing patterns, conventions, and architecture",
    "6. Only THEN proceed to planning"
]
warning = "DO NOT proceed to planning until you have read https://github.com/bigdegenenergy/ai-dev-toolkit in full"

[workflow.standard]
description = "Standard development workflow for all changes"
steps = [
    "1. READ https://github.com/bigdegenenergy/ai-dev-toolkit IN FULL FIRST",
    "2. Start in Plan mode (shift+tab twice)",
    "3. Create detailed plan and get approval",
    "4. Switch to auto-accept edits mode",
    "5. Implement the plan",
    "6. Use @code-simplifier for code hygiene",
    "7. Use @verify-app for testing",
    "8. Use @code-reviewer for quality check",
    "9. Use /commit-push-pr to finalize"
]

[workflow.git]
commit_command = "/commit-push-pr"
commit_format = "conventional"  # feat:, fix:, docs:, etc.
always_create_pr = true
require_tests = true

[subagents]
description = "Specialized AI team members with distinct roles"

[subagents.code_simplifier]
role = "Code Hygiene Specialist"
trigger = "after_code_changes"
proactive = true
tools = ["Read", "Edit", "Grep", "Glob"]
never_change_functionality = true
focus = ["readability", "maintainability", "complexity_reduction"]

[subagents.verify_app]
role = "Quality Assurance Engineer"
trigger = "before_commit"
mandatory = true
tools = ["Read", "Bash", "Grep", "Glob"]
responsibilities = [
    "Run all tests",
    "Check edge cases",
    "Verify error handling",
    "Test performance",
    "Review logs"
]

[subagents.code_reviewer]
role = "Senior Code Reviewer"
trigger = "before_pr"
proactive = true
tools = ["Read", "Grep", "Glob"]
demeanor = "critical"  # Override agreeable LLM behavior
focus_areas = [
    "code_quality",
    "security",
    "performance",
    "testing",
    "documentation",
    "architecture"
]

[hooks]
description = "Automated quality gates that run at specific points"

[hooks.post_tool_use]
enabled = true
script = ".claude/hooks/post-tool-use.sh"
purpose = "Automatic code formatting after edits"

[hooks.post_tool_use.formatters]
python = ["black", "ruff"]
javascript = ["prettier", "eslint"]
typescript = ["prettier", "eslint"]
go = ["gofmt"]
rust = ["rustfmt"]

[hooks.stop]
enabled = true
script = ".claude/hooks/stop.sh"
purpose = "End-of-turn quality gate"
checks = [
    "run_tests",
    "type_checking",
    "linting",
    "security_scan"
]

[commands]
description = "Slash commands for common workflows"

[commands.commit_push_pr]
path = ".claude/commands/git/commit-push-pr.md"
usage = "/commit-push-pr [commit-message]"
frequency = "dozens_per_day"
features = [
    "Pre-computes git context with inline bash",
    "Generates conventional commit messages",
    "Creates detailed PR descriptions",
    "Includes quality checks"
]

[documentation]
team_docs = ".claude/docs.md"
update_frequency = "weekly"
purpose = "Living document of team knowledge and patterns"

[documentation.must_include]
conventions = "Project-specific naming, file organization, import order"
patterns = "Common patterns and best practices"
anti_patterns = "Things Claude should NOT do"
known_issues = "Known issues and workarounds"
security_notes = "Security considerations"

[permissions]
config_file = ".claude/settings.json"
strategy = "pre_approve_safe_commands"
avoid_prompts = true

[permissions.allowed_commands]
git = ["status", "diff", "log", "branch", "add", "commit", "push", "pull"]
github = ["gh pr create", "gh pr list", "gh pr view"]
testing = ["npm test", "pytest", "cargo test"]
docker = ["docker ps", "docker logs"]
kubernetes = ["kubectl get", "kubectl describe"]
general = ["ls", "cat", "grep", "find", "tree"]

[multi_session]
description = "Run multiple Claude instances in parallel"
terminal_sessions = 5
web_sessions = "5-10"
mobile_sessions = "start_throughout_day"
session_handoff = "&"  # Use & to hand off to web
teleport = "--teleport <session-id>"  # Move between terminal and web

[context_management]
pre_compute = true
inline_bash = true
description = "Use !`command` in slash commands to inject real-time context"
examples = [
    "!`git status`",
    "!`git diff --staged`",
    "!`git log --oneline -5`"
]

[verification]
mandatory = true
principle = "Every workflow must include verification"

[verification.strategies]
web_apps = ["run_dev_server", "test_endpoints", "verify_ui", "check_responsive"]
cli_tools = ["test_various_inputs", "verify_output", "test_error_messages"]
libraries = ["run_test_suite", "check_coverage", "test_api_contracts"]
apis = ["test_endpoints", "verify_formats", "check_auth", "test_errors"]

[metrics]
track = true
directory = ".claude/metrics/"

[metrics.files]
tool_usage = "tool_usage.csv"
quality_checks = "quality_checks.csv"

[metrics.key_indicators]
slash_command_usage = "Which workflows are most used?"
subagent_invocations = "Are specialists being used proactively?"
hook_execution_rate = "How often do quality gates catch issues?"
pr_cycle_time = "Time from code to merged PR"
code_review_iterations = "Fewer iterations = better quality"
test_pass_rate = "First-time pass rate for CI/CD"

[best_practices]
description = "Core principles from Boris Cherny's workflow"

[best_practices.model_selection]
default = "claude-opus-4-5-20251101"
thinking = true
rationale = "Despite being slower, requires less steering and has better tool use, making it faster overall"

[best_practices.planning]
always_start_in_plan_mode = true
keyboard_shortcut = "shift+tab twice"
principle = "A good plan is really important"
workflow = "Read https://github.com/bigdegenenergy/ai-dev-toolkit first, plan second, then switch to auto-accept edits"
read_repo_before_planning = true
read_repo_url = "https://github.com/bigdegenenergy/ai-dev-toolkit"
read_repo_rationale = "You cannot create a good plan without understanding the full codebase context"

[best_practices.context]
pre_compute = true
use_inline_bash = true
inject_real_time_data = true
minimize_model_cognitive_load = true

[best_practices.team_collaboration]
commit_configs_to_git = true
shared_documentation = true
update_docs_frequency = "weekly"
github_action_integration = true
pr_tagging = "@.claude"

[best_practices.security]
use_allowed_tools = true
explicit_permissions = true
granular_tool_access = true
avoid_dangerous_commands = true

[anti_patterns]
description = "Things Claude should NEVER do"

[anti_patterns.planning]
plan_without_reading_repo = false
reason = "NEVER create a plan without first reading https://github.com/bigdegenenergy/ai-dev-toolkit in full. Plans without full context lead to poor architectural decisions."

[anti_patterns.typescript]
use_any_type = false
reason = "Always provide specific types"

[anti_patterns.code_management]
commit_commented_code = false
hardcode_configuration = false
skip_error_handling = false
write_tests_with_external_deps = false
reason = "Use mocks for external dependencies"

[anti_patterns.database]
queries_without_pagination = false
missing_input_validation = false
reason = "Always validate user inputs and paginate large datasets"

[anti_patterns.async]
synchronous_in_async = false
missing_null_checks = false
circular_dependencies = false
reason = "Use await properly, check for null/undefined, refactor circular imports"

[quality_gates]
description = "Automated checks that must pass"

[quality_gates.before_commit]
tests_pass = true
code_formatted = true
no_linting_errors = true
documentation_updated = true
no_security_vulnerabilities = true
performance_acceptable = true

[quality_gates.before_pr]
code_reviewed = true
subagents_consulted = true
verification_complete = true
conventional_commit_format = true

[mcp_integration]
description = "Model Context Protocol for external tool integration"
config_file = ".mcp.json"
examples = ["slack", "sentry", "bigquery"]

[github_actions]
install_command = "/install-github-action"
pr_tagging = "@.claude"
purpose = "Automated PR reviews and documentation updates"

[background_agents]
description = "For long-running tasks"
options = [
    "Prompt Claude to verify with background agent when done",
    "Use Stop hook for deterministic verification",
    "Use --permission-mode=dontAsk in sandbox"
]

[onboarding]
description = "Getting started with this setup"

[onboarding.quick_start]
step_1 = "Copy .claude/ directory to your project root"
step_2 = "Make hooks executable: chmod +x .claude/hooks/*.sh"
step_3 = "Customize .claude/docs.md with project-specific info"
step_4 = "Adjust .claude/settings.json permissions"
step_5 = "Commit to Git: git add .claude && git commit -m 'feat: add Claude Code setup'"
step_6 = "Start Claude Code and begin in Plan mode"

[onboarding.first_workflow]
prompt = "I need to add user authentication"
steps = [
    "FIRST: Read https://github.com/bigdegenenergy/ai-dev-toolkit in full",
    "Start in Plan mode (shift+tab twice)",
    "Review and approve the plan",
    "Switch to auto-accept edits mode",
    "After implementation: @code-simplifier review my changes",
    "Then: @verify-app test the authentication",
    "Then: @code-reviewer check for issues",
    "Finally: /commit-push-pr 'feat: add user authentication'"
]

[resources]
research_report = "RESEARCH.md"
implementation_guide = "IMPLEMENTATION_GUIDE.md"
readme = "README.md"
official_docs = "https://code.claude.com/docs/"
boris_thread = "https://x.com/bcherny/status/2007179847949500714"

[support]
issues = "https://github.com/bigdegenenergy/ai-dev-toolkit/issues"
discussions = "https://github.com/bigdegenenergy/ai-dev-toolkit/discussions"

[philosophy.final_note]
message = "The goal is to amplify human capabilities, not replace engineers. This setup automates repetitive tasks and provides specialized AI assistance, allowing engineers to focus on high-level problem solving and creative work."
